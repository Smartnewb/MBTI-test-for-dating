"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[235],{"(app-pages-browser)/./src/app/components/test/TestResult.jsx":function(e,r,t){var a=t("(app-pages-browser)/./node_modules/@swc/helpers/esm/_tagged_template_literal.js");t("(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js");var o=t("(app-pages-browser)/./node_modules/@mui/material/Box/Box.js"),n=t("(app-pages-browser)/./node_modules/@mui/material/IconButton/IconButton.js"),i=t("(app-pages-browser)/./node_modules/@mui/material/Typography/Typography.js"),s=t("(app-pages-browser)/./node_modules/@mui/material/Chip/Chip.js"),p=t("(app-pages-browser)/./node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),d=t("(app-pages-browser)/./node_modules/@mui/material/styles/styled.js");t("(app-pages-browser)/./src/app/components/TarotCard.jsx"),t("(app-pages-browser)/./src/app/components/MysticalButton.jsx"),t("(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-runtime.js");var c=t("(app-pages-browser)/./node_modules/@mui/material/Paper/Paper.js"),l=t("(app-pages-browser)/./node_modules/@mui/material/Avatar/Avatar.js");function g(){let e=(0,a._)(["\n  0% { box-shadow: 0 0 10px rgba(148, 0, 211, 0.5), 0 0 20px rgba(148, 0, 211, 0.3), inset 0 0 15px rgba(148, 0, 211, 0.5); }\n  25% { box-shadow: 0 0 15px rgba(75, 0, 130, 0.6), 0 0 25px rgba(75, 0, 130, 0.4), inset 0 0 20px rgba(75, 0, 130, 0.6); }\n  50% { box-shadow: 0 0 20px rgba(0, 0, 255, 0.7), 0 0 30px rgba(0, 0, 255, 0.5), inset 0 0 25px rgba(0, 0, 255, 0.7); }\n  75% { box-shadow: 0 0 15px rgba(75, 0, 130, 0.6), 0 0 25px rgba(75, 0, 130, 0.4), inset 0 0 20px rgba(75, 0, 130, 0.6); }\n  100% { box-shadow: 0 0 10px rgba(148, 0, 211, 0.5), 0 0 20px rgba(148, 0, 211, 0.3), inset 0 0 15px rgba(148, 0, 211, 0.5); }\n"]);return g=function(){return e},e}function b(){let e=(0,a._)(["\n  0% { background-position: 0% 50%; }\n  50% { background-position: 100% 50%; }\n  100% { background-position: 0% 50%; }\n"]);return b=function(){return e},e}t("(app-pages-browser)/./src/app/components/animations.jsx"),(0,d.ZP)(o.Z)(e=>{let{theme:r}=e;return{position:"relative",padding:r.spacing(3),borderRadius:2*r.shape.borderRadius,background:"linear-gradient(135deg, ".concat(r.palette.background.paper," 0%, ").concat(r.palette.background.default," 100%)"),boxShadow:"0 8px 16px rgba(0, 0, 0, 0.2)",border:"1px solid ".concat(r.palette.primary.dark),marginTop:r.spacing(4),marginBottom:r.spacing(4),"&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,borderRadius:2*r.shape.borderRadius,background:"url(/images/card-texture.png)",backgroundSize:"cover",opacity:.05,pointerEvents:"none"},[r.breakpoints.down("sm")]:{padding:r.spacing(2),marginTop:r.spacing(3),marginBottom:r.spacing(3),borderRadius:1.5*r.shape.borderRadius,"&::before":{borderRadius:1.5*r.shape.borderRadius}}}}),(0,d.ZP)(i.Z)(e=>{let{theme:r}=e;return{fontFamily:'"Playfair Display", "Noto Serif KR", serif',fontWeight:600,fontSize:"1.5rem",marginBottom:r.spacing(2),color:r.palette.secondary.main,textAlign:"center",textShadow:"0 2px 4px rgba(0, 0, 0, 0.3)",[r.breakpoints.down("sm")]:{fontSize:"1.25rem",marginBottom:r.spacing(1.5)}}}),(0,d.ZP)(c.Z)(e=>{let{theme:r}=e;return{padding:r.spacing(2),height:"100%",background:"linear-gradient(135deg, ".concat(r.palette.background.paper," 0%, rgba(42, 42, 74, 0.8) 100%)"),borderRadius:r.shape.borderRadius,boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",border:"1px solid ".concat(r.palette.primary.dark),transition:"transform 0.3s ease, box-shadow 0.3s ease","&:hover":{transform:"translateY(-5px)",boxShadow:"0 8px 16px rgba(0, 0, 0, 0.3)"},[r.breakpoints.down("sm")]:{padding:r.spacing(1.5),"&:hover":{transform:"none",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)"}}}}),(0,d.ZP)(l.Z)(e=>{let{theme:r,color:t="primary"}=e;return{backgroundColor:r.palette[t].main,color:r.palette[t].contrastText,width:40,height:40,marginBottom:r.spacing(1),boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",[r.breakpoints.down("sm")]:{width:32,height:32,"& .MuiSvgIcon-root":{fontSize:"1.2rem"}}}}),t("(app-pages-browser)/./src/app/utils/mbti.js"),t("(app-pages-browser)/./src/app/components/mystical/index.js");let u=(0,p.F4)(g()),m=(0,p.F4)(b());(0,d.ZP)("div")(e=>{let{theme:r}=e;return{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:120,height:120,borderRadius:"50%",background:"linear-gradient(45deg, #9400D3, #4B0082, #0000FF, #4B0082, #9400D3)",backgroundSize:"400% 400%",animation:"".concat(m," 10s ease infinite, ").concat(u," 3s infinite"),color:"white",textDecoration:"none",position:"relative",cursor:"pointer",transition:"transform 0.3s ease",border:"2px solid rgba(255, 255, 255, 0.2)",overflow:"hidden","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:"radial-gradient(circle at center, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 70%)",borderRadius:"50%",opacity:.7,zIndex:1},"&:hover":{transform:"scale(1.05)"},[r.breakpoints.down("sm")]:{width:100,height:100}}}),(0,d.ZP)(o.Z)(e=>{let{theme:r}=e;return{position:"relative",padding:r.spacing(3),paddingBottom:r.spacing(6)}}),(0,d.ZP)(o.Z)(e=>{let{theme:r}=e;return{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"90%",maxWidth:900,maxHeight:"90vh",overflow:"auto",borderRadius:2*r.shape.borderRadius,background:"linear-gradient(135deg, ".concat(r.palette.background.paper," 0%, ").concat(r.palette.background.default," 100%)"),boxShadow:"0 10px 30px rgba(0, 0, 0, 0.6)",border:"1px solid ".concat(r.palette.primary.dark),padding:0,outline:"none","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,borderRadius:2*r.shape.borderRadius,background:"url(/images/card-texture.png)",backgroundSize:"cover",opacity:.05,pointerEvents:"none",zIndex:-1}}}),(0,d.ZP)(o.Z)(e=>{let{theme:r}=e;return{display:"flex",alignItems:"center",justifyContent:"space-between",padding:r.spacing(2,3),borderBottom:"1px solid ".concat(r.palette.divider),background:"linear-gradient(135deg, ".concat(r.palette.primary.dark," 0%, ").concat(r.palette.secondary.dark," 100%)"),borderTopLeftRadius:2*r.shape.borderRadius,borderTopRightRadius:2*r.shape.borderRadius,color:r.palette.common.white}}),(0,d.ZP)(o.Z)(e=>{let{theme:r}=e;return{padding:r.spacing(3),maxHeight:"calc(90vh - 70px)",overflow:"auto"}}),(0,d.ZP)(n.Z)(e=>{let{theme:r}=e;return{color:r.palette.common.white,"&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}}}),(0,d.ZP)(i.Z)(e=>{let{theme:r,mbtiColor:t}=e;return{fontFamily:'"Playfair Display", "Noto Serif KR", serif',fontWeight:700,fontSize:"2.5rem",textAlign:"center",marginBottom:r.spacing(1),background:t?"linear-gradient(135deg, ".concat(t," 30%, ").concat(r.palette.common.white," 90%)"):"linear-gradient(135deg, ".concat(r.palette.primary.main," 0%, ").concat(r.palette.secondary.main," 100%)"),WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",color:"transparent",textShadow:"0 2px 10px rgba(0, 0, 0, 0.2)",[r.breakpoints.down("sm")]:{fontSize:"2rem"},[r.breakpoints.down("xs")]:{fontSize:"1.75rem"}}}),(0,d.ZP)(i.Z)(e=>{let{theme:r}=e;return{fontFamily:'"Playfair Display", "Noto Serif KR", serif',fontWeight:600,fontSize:"1.25rem",marginTop:r.spacing(3),marginBottom:r.spacing(1),color:r.palette.secondary.main,[r.breakpoints.down("sm")]:{fontSize:"1.1rem",marginTop:r.spacing(2)}}}),(0,d.ZP)(s.Z)(e=>{let{theme:r}=e;return{margin:r.spacing(.5),backgroundColor:r.palette.background.paper,border:"1px solid ".concat(r.palette.primary.main),"& .MuiChip-label":{color:r.palette.text.primary},[r.breakpoints.down("sm")]:{height:28,fontSize:"0.75rem","& .MuiChip-label":{padding:"0 8px"}}}}),(0,d.ZP)(o.Z)(e=>{let{theme:r}=e;return{height:24,display:"flex",width:"100%",backgroundColor:"transparent",position:"relative",marginBottom:r.spacing(1),[r.breakpoints.down("sm")]:{height:20}}}),(0,d.ZP)(o.Z)(e=>{let r,{theme:t,dimension:a,width:o}=e;switch(a){case"E-I":r="#3F51B5";break;case"S-N":r="#4CAF50";break;case"T-F":r="#FF9800";break;case"J-P":r="#9C27B0";break;default:r=t.palette.primary.main}return{height:"100%",width:"".concat(o,"%"),backgroundColor:r,borderTopLeftRadius:4,borderBottomLeftRadius:4,display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:"0.75rem",position:"relative",transition:"width 0.5s ease-in-out",[t.breakpoints.down("sm")]:{fontSize:"0.7rem"}}}),(0,d.ZP)(o.Z)(e=>{let r,{theme:t,dimension:a,width:o}=e;switch(a){case"E-I":r="#3F51B5";break;case"S-N":r="#4CAF50";break;case"T-F":r="#FF9800";break;case"J-P":r="#9C27B0";break;default:r=t.palette.primary.main}return{height:"100%",width:"".concat(o,"%"),backgroundColor:r,borderTopRightRadius:4,borderBottomRightRadius:4,marginLeft:"auto",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:"0.75rem",position:"relative",transition:"width 0.5s ease-in-out",[t.breakpoints.down("sm")]:{fontSize:"0.7rem"}}})},"(app-pages-browser)/./src/app/services/resultService.js":function(e,r,t){t.d(r,{TW:function(){return i},by:function(){return s}});var a=t("(app-pages-browser)/./node_modules/uuid/dist/esm-browser/v4.js"),o=t("(app-pages-browser)/./src/app/utils/supabase.js");t("(app-pages-browser)/./src/app/utils/mbtiAnalyzer.js");var n=t("(app-pages-browser)/./src/app/utils/mbti.js");let i=async function(e,r){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;try{let s={mbti_type:r,e_i_score:e.E-e.I,s_n_score:e.S-e.N,t_f_score:e.T-e.F,j_p_score:e.J-e.P,share_id:(0,a.Z)()};t?s.user_id=t:n?s.session_id=n:s.session_id=(0,a.Z)(),i&&(s.email=i);let{data:p,error:d}=await o.ZP.from("test_results").insert([s]);if(d)throw console.error("Error saving test result:",d),d;return{success:!0,data:p[0],shareId:s.share_id,sessionId:s.session_id}}catch(e){return console.error("Failed to save test result:",e),{success:!1,error:e}}},s=async e=>{try{let{data:r,error:t}=await o.ZP.rpc("get_mbti_result_by_share_id",{share_uuid:e});if(t)throw console.error("Error fetching test result by share ID:",t),t;if(!r)return null;return{...r,idealType:(0,n.BW)(r.mbtiType),worstMatch:(0,n.cQ)(r.mbtiType)}}catch(e){return console.error("Failed to fetch test result by share ID:",e),null}}}}]);